---
title: Recipes
---

# Recipes

You can see and test the example queries and mutations below. 
Click the "Run" button to run the query above it and see the response. 
Click the "TypeScript", "Apollo Client", or "urql" buttons to see code examples.

- <a href="#get-an-asset-balance-of-an-address">Get an asset balance of an address</a>
- <a href="#list-all-asset-balances-of-an-address">List all asset balances of an address</a>
- <a href="#list-all-transactions-from-an-address">List all transactions from an address</a>
- <a href="#list-the-latest-transactions">List the latest transactions</a>
- <a href="#get-an-asset-balance-of-a-contract">Get an asset balance of a contract</a>
- <a href="#list-all-asset-balances-of-a-contract">List all asset balances of a contract</a>
- <a href="#list-the-latest-blocks">List the latest blocks</a>
- <a href="#get-block-information-by-height">Get block information by height</a>
- <a href="#list-all-messages-owned-by-address">List all messages owned by address</a>
- <a href="#dry-run-a-transaction">Dry run a transaction</a>
- <a href="#submit-a-transaction">Submit a transaction</a>
- <a href="#more-examples">More Examples</a>


## Get an asset balance of an address

```graphql
query Balance($address: Address, $assetId: AssetId) {
  balance(owner: $address, assetId: $assetId) {
    owner
    amount
    assetId
  }
}
```

Variables:

```json
{
  "address": "0xf65d6448a273b531ee942c133bb91a6f904c7d7f3104cdaf6b9f7f50d3518871",
  "assetId": "0x0000000000000000000000000000000000000000000000000000000000000000"
}
```

<Examples.Balance />

  <div className="accordion">

{" "}
<div className="accordion-option">
  <input type="checkbox" id="toggle1" className="accordion-toggle"></input>
  <label className="accordion-title" htmlFor="toggle1">
    TypeScript
  </label>
  <div className="accordion-content">
    <CodeImport
      file="../examples/tests/balance.test.ts"
      testCase="get balance with ts"
    />
  </div>
</div>

    <div className="accordion-option">
      <input type="checkbox" id="toggle2" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="toggle2">
        Apollo Client
      </label>
      <div className="accordion-content">
      ```typescript
      import { ApolloClient, InMemoryCache, gql } from '@apollo/client';

      const apolloClient= new ApolloClient({
        uri: 'https://node-beta-2.fuel.network/graphql',
        cache: new InMemoryCache(),
      });
      ```
        <CodeImport
          file="../examples/tests/balance.test.ts"
          testCase="get balance with apollo"
        />
      </div>
    </div>

    <div className="accordion-option">
      <input type="checkbox" id="toggle3" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="toggle3">
        urql
      </label>
      <div className="accordion-content">
        ```typescript
        import { createClient } from 'urql';

        const urqlClient= createClient({
          url: 'https://node-beta-2.fuel.network/graphql',
        });
        ```
        <CodeImport
          file="../examples/tests/balance.test.ts"
          testCase="get balance with urql"
        />
      </div>
    </div>

  </div>

## List all asset balances of an address

```graphql
query Balances($filter: BalanceFilterInput) {
  balances(filter: $filter, first: 5) {
    nodes {
      amount
      assetId
    }
  }
}
```

Variables:

```json
{
  "filter": {
    "owner": "0xf65d6448a273b531ee942c133bb91a6f904c7d7f3104cdaf6b9f7f50d3518871"
  }
}
```

<Examples.Balances />

 <div className="accordion">

{" "}
<div className="accordion-option">
  <input
    type="checkbox"
    id="balances-toggle1"
    className="accordion-toggle"
  ></input>
  <label className="accordion-title" htmlFor="balances-toggle1">
    TypeScript
  </label>
  <div className="accordion-content">
    <CodeImport
      file="../examples/tests/balances.test.ts"
      testCase="get balances with ts"
    />
  </div>
</div>

    <div className="accordion-option">
      <input type="checkbox" id="balances-toggle2" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="balances-toggle2">
        Apollo Client
      </label>
      <div className="accordion-content">
        ```typescript
      import { ApolloClient, InMemoryCache, gql } from '@apollo/client';

      const apolloClient= new ApolloClient({
        uri: 'https://node-beta-2.fuel.network/graphql',
        cache: new InMemoryCache(),
      });
      ```
        <CodeImport
          file="../examples/tests/balances.test.ts"
          testCase="get balances with apollo"
        />
      </div>
    </div>

    <div className="accordion-option">
      <input type="checkbox" id="balances-toggle3" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="balances-toggle3">
        urql
      </label>
      <div className="accordion-content">
        ```typescript
        import { createClient } from 'urql';

        const urqlClient= createClient({
          url: 'https://node-beta-2.fuel.network/graphql',
        });
        ```
        <CodeImport
          file="../examples/tests/balances.test.ts"
          testCase="get balances with urql"
        />
      </div>
    </div>

  </div>

## List all transactions from an address

```graphql
query Transactions($address: Address) {
  transactionsByOwner(owner: $address, first: 5) {
    nodes {
      id
      inputs {
        __typename
        ... on InputCoin {
          owner
          utxoId
          amount
          assetId
        }
        ... on InputContract {
          utxoId
          contract {
            id
          }
        }
        ... on InputMessage {
          messageId
          sender
          recipient
          amount
          data
        }
      }
      outputs {
        __typename
        ... on CoinOutput {
          to
          amount
          assetId
        }
        ... on ContractOutput {
          inputIndex
          balanceRoot
          stateRoot
        }
        ... on MessageOutput {
          recipient
          amount
        }
        ... on ChangeOutput {
          to
          amount
          assetId
        }
        ... on VariableOutput {
          to
          amount
          assetId
        }
        ... on ContractCreated {
          contract {
            id
          }
          stateRoot
        }
      }
      status {
        __typename
        ... on FailureStatus {
          reason
          programState {
            returnType
          }
        }
      }
    }
  }
}
```

Variables:

```json
{
  "address": "0xf65d6448a273b531ee942c133bb91a6f904c7d7f3104cdaf6b9f7f50d3518871"
}
```

<Examples.Transactions />

  <div className="accordion">

{" "}
<div className="accordion-option">
  <input
    type="checkbox"
    id="transactions-toggle1"
    className="accordion-toggle"
  ></input>
  <label className="accordion-title" htmlFor="transactions-toggle1">
    TypeScript
  </label>
  <div className="accordion-content">
    <CodeImport
      file="../examples/tests/transactions-by-owner.test.ts"
      testCase="get transactions with ts"
    />
  </div>
</div>

    <div className="accordion-option">
      <input type="checkbox" id="transactions-toggle2" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="transactions-toggle2">
        Apollo Client
      </label>
      <div className="accordion-content">
        ```typescript
        import { ApolloClient, InMemoryCache, gql } from '@apollo/client';

        const apolloClient= new ApolloClient({
          uri: 'https://node-beta-2.fuel.network/graphql',
          cache: new InMemoryCache(),
        });
        ```
        <CodeImport
          file="../examples/tests/transactions-by-owner.test.ts"
          testCase="get transactions with apollo"
        />
      </div>
    </div>

    <div className="accordion-option">
      <input type="checkbox" id="transactions-toggle3" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="transactions-toggle3">
        urql
      </label>
      <div className="accordion-content">
        ```typescript
        import { createClient } from 'urql';

        const urqlClient= createClient({
          url: 'https://node-beta-2.fuel.network/graphql',
        });
        ```
        <CodeImport
          file="../examples/tests/transactions-by-owner.test.ts"
          testCase="get transactions with urql"
        />
      </div>
    </div>

  </div>

## List the latest transactions

```graphql
query LatestTransactions {
  transactions(last: 5) {
    nodes {
      id
      inputs {
        __typename
        ... on InputCoin {
          owner
          utxoId
          amount
          assetId
        }
        ... on InputContract {
          utxoId
          contract {
            id
          }
        }
        ... on InputMessage {
          messageId
          sender
          recipient
          amount
          data
        }
      }
      outputs {
        __typename
        ... on CoinOutput {
          to
          amount
          assetId
        }
        ... on ContractOutput {
          inputIndex
          balanceRoot
          stateRoot
        }
        ... on MessageOutput {
          recipient
          amount
        }
        ... on ChangeOutput {
          to
          amount
          assetId
        }
        ... on VariableOutput {
          to
          amount
          assetId
        }
        ... on ContractCreated {
          contract {
            id
          }
          stateRoot
        }
      }
      status {
        __typename
        ... on FailureStatus {
          reason
          programState {
            returnType
          }
        }
      }
    }
  }
}
```

<Examples.LatestTransactions />

  <div className="accordion">

{" "}
<div className="accordion-option">
  <input
    type="checkbox"
    id="latest-txns-toggle1"
    className="accordion-toggle"
  ></input>
  <label className="accordion-title" htmlFor="latest-txns-toggle1">
    TypeScript
  </label>
  <div className="accordion-content">
    <CodeImport
      file="../examples/tests/latest-transactions.test.ts"
      testCase="get latest transactions with ts"
    />
  </div>
</div>

    <div className="accordion-option">
      <input type="checkbox" id="latest-txns-toggle2" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="latest-txns-toggle2">
        Apollo Client
      </label>
      <div className="accordion-content">
        ```typescript
        import { ApolloClient, InMemoryCache, gql } from '@apollo/client';

        const apolloClient= new ApolloClient({
          uri: 'https://node-beta-2.fuel.network/graphql',
          cache: new InMemoryCache(),
        });
        ```
        <CodeImport
          file="../examples/tests/latest-transactions.test.ts"
          testCase="get latest transactions with apollo"
        />
      </div>
    </div>

    <div className="accordion-option">
      <input type="checkbox" id="latest-txns-toggle3" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="latest-txns-toggle3">
        urql
      </label>
      <div className="accordion-content">
        ```typescript
        import { createClient } from 'urql';

        const urqlClient= createClient({
          url: 'https://node-beta-2.fuel.network/graphql',
        });
        ```
        <CodeImport
          file="../examples/tests/latest-transactions.test.ts"
          testCase="get latest transactions with urql"
        />
      </div>
    </div>

  </div>

## Get an asset balance of a contract

```graphql
query ContractBalance($contract: ContractId, $asset: AssetId) {
  contractBalance(contract: $contract, asset: $asset) {
    contract
    amount
    assetId
  }
}
```

Variables:

```json
{
  "contract": "0xc9a5366c269438d294ef942bc962dd2e6c86121e3bca00192723eb7eb58fa87d",
  "asset": "0x0000000000000000000000000000000000000000000000000000000000000000"
}
```

<Examples.ContractBalance />

  <div className="accordion">

{" "}
<div className="accordion-option">
  <input
    type="checkbox"
    id="contract-balance-toggle1"
    className="accordion-toggle"
  ></input>
  <label className="accordion-title" htmlFor="contract-balance-toggle1">
    TypeScript
  </label>
  <div className="accordion-content">
    <CodeImport
      file="../examples/tests/contract-balance.test.ts"
      testCase="get contract balance with ts"
    />
  </div>
</div>

    <div className="accordion-option">
      <input type="checkbox" id="contract-balance-toggle2" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="contract-balance-toggle2">
        Apollo Client
      </label>
      <div className="accordion-content">
      ```typescript
        import { ApolloClient, InMemoryCache, gql } from '@apollo/client';

        const apolloClient= new ApolloClient({
          uri: 'https://node-beta-2.fuel.network/graphql',
          cache: new InMemoryCache(),
        });
        ```
       <CodeImport
          file="../examples/tests/contract-balance.test.ts"
          testCase="get contract balance with apollo"
        />
      </div>
    </div>

    <div className="accordion-option">
      <input type="checkbox" id="contract-balance-toggle3" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="contract-balance-toggle3">
        urql
      </label>
      <div className="accordion-content">
      ```typescript
        import { createClient } from 'urql';

        const urqlClient= createClient({
          url: 'https://node-beta-2.fuel.network/graphql',
        });
        ```
        <CodeImport
          file="../examples/tests/contract-balance.test.ts"
          testCase="get contract balance with urql"
        />
      </div>
    </div>

  </div>

## List all asset balances of a contract

```graphql
query ContractBalances($filter: ContractBalanceFilterInput!) {
  contractBalances(filter: $filter, first: 5) {
    nodes {
      amount
      assetId
    }
  }
}
```

Variables:

```json
{
  "filter": {
    "contract": "0x0a98320d39c03337401a4e46263972a9af6ce69ec2f35a5420b1bd35784c74b1"
  }
}
```

<Examples.ContractBalances />

  <div className="accordion">

{" "}
<div className="accordion-option">
  <input
    type="checkbox"
    id="contract-balances-toggle1"
    className="accordion-toggle"
  ></input>
  <label className="accordion-title" htmlFor="contract-balances-toggle1">
    TypeScript
  </label>
  <div className="accordion-content">
    <CodeImport
      file="../examples/tests/contract-balances.test.ts"
      testCase="get contract balances with ts"
    />
  </div>
</div>

    <div className="accordion-option">
      <input type="checkbox" id="contract-balances-toggle2" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="contract-balances-toggle2">
        Apollo Client
      </label>
      <div className="accordion-content">
      ```typescript
        import { ApolloClient, InMemoryCache, gql } from '@apollo/client';

        const apolloClient= new ApolloClient({
          uri: 'https://node-beta-2.fuel.network/graphql',
          cache: new InMemoryCache(),
        });
        ```
       <CodeImport
          file="../examples/tests/contract-balances.test.ts"
          testCase="get contract balances with apollo"
        />
      </div>
    </div>

    <div className="accordion-option">
      <input type="checkbox" id="contract-balances-toggle3" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="contract-balances-toggle3">
        urql
      </label>
      <div className="accordion-content">
      ```typescript
        import { createClient } from 'urql';

        const urqlClient= createClient({
          url: 'https://node-beta-2.fuel.network/graphql',
        });
        ```
        <CodeImport
          file="../examples/tests/contract-balances.test.ts"
          testCase="get contract balances with urql"
        />
      </div>
    </div>

  </div>

## List the latest blocks

```graphql
query LatestBlocks {
  blocks(last: 5) {
    nodes {
      id
      transactions {
        id
        inputAssetIds
        inputs {
          __typename
          ... on InputCoin {
            owner
            utxoId
            amount
            assetId
          }
          ... on InputContract {
            utxoId
            contract {
              id
            }
          }
          ... on InputMessage {
            messageId
            sender
            recipient
            amount
            data
          }
        }
        outputs {
          __typename
          ... on CoinOutput {
            to
            amount
            assetId
          }
          ... on ContractOutput {
            inputIndex
            balanceRoot
            stateRoot
          }
          ... on MessageOutput {
            recipient
            amount
          }
          ... on ChangeOutput {
            to
            amount
            assetId
          }
          ... on VariableOutput {
            to
            amount
            assetId
          }
          ... on ContractCreated {
            contract {
              id
            }
            stateRoot
          }
        }
        gasPrice
      }
    }
  }
}
```

<Examples.LatestBlocks />

  <div className="accordion">

{" "}
<div className="accordion-option">
  <input
    type="checkbox"
    id="latest-blocks-toggle1"
    className="accordion-toggle"
  ></input>
  <label className="accordion-title" htmlFor="latest-blocks-toggle1">
    TypeScript
  </label>
  <div className="accordion-content">
    <CodeImport
      file="../examples/tests/latest-blocks.test.ts"
      testCase="get latest blocks with ts"
    />
  </div>
</div>

    <div className="accordion-option">
      <input type="checkbox" id="latest-blocks-toggle2" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="latest-blocks-toggle2">
        Apollo Client
      </label>
      <div className="accordion-content">
      ```typescript
        import { ApolloClient, InMemoryCache, gql } from '@apollo/client';

        const apolloClient= new ApolloClient({
          uri: 'https://node-beta-2.fuel.network/graphql',
          cache: new InMemoryCache(),
        });
        ```
         <CodeImport
          file="../examples/tests/latest-blocks.test.ts"
          testCase="get latest blocks with apollo"
        />
      </div>
    </div>

    <div className="accordion-option">
      <input type="checkbox" id="latest-blocks-toggle3" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="latest-blocks-toggle3">
        urql
      </label>
      <div className="accordion-content">
      ```typescript
        import { createClient } from 'urql';

        const urqlClient= createClient({
          url: 'https://node-beta-2.fuel.network/graphql',
        });
        ```
         <CodeImport
          file="../examples/tests/latest-blocks.test.ts"
          testCase="get latest blocks with urql"
        />
      </div>
    </div>

  </div>

## Get block information by height

```graphql
query Block($height: U64) {
  block(height: $height) {
    id
  }
}
```

Variables:

```json
{
  "height": "378485"
}
```

<Examples.BlockByHeight />

  <div className="accordion">

{" "}
<div className="accordion-option">
  <input
    type="checkbox"
    id="block-toggle1"
    className="accordion-toggle"
  ></input>
  <label className="accordion-title" htmlFor="block-toggle1">
    TypeScript
  </label>
  <div className="accordion-content">
    <CodeImport
      file="../examples/tests/block.test.ts"
      testCase="get block info with ts"
    />
  </div>
</div>

    <div className="accordion-option">
      <input type="checkbox" id="block-toggle2" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="block-toggle2">
        Apollo Client
      </label>
      <div className="accordion-content">
      ```typescript
        import { ApolloClient, InMemoryCache, gql } from '@apollo/client';

        const apolloClient= new ApolloClient({
          uri: 'https://node-beta-2.fuel.network/graphql',
          cache: new InMemoryCache(),
        });
        ```
         <CodeImport
          file="../examples/tests/block.test.ts"
          testCase="get block info with apollo"
        />
      </div>
    </div>

    <div className="accordion-option">
      <input type="checkbox" id="block-toggle3" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="block-toggle3">
        urql
      </label>
      <div className="accordion-content">
      ```typescript
        import { createClient } from 'urql';

        const urqlClient= createClient({
          url: 'https://node-beta-2.fuel.network/graphql',
        });
        ```
         <CodeImport
          file="../examples/tests/block.test.ts"
          testCase="get block info with urql"
        />
      </div>
    </div>

  </div>

## List all messages owned by address

```graphql
query MessageInfo($address: Address) {
  messages(owner: $address, first: 5) {
    nodes {
      amount
      sender
      recipient
      nonce
      data
      daHeight
      fuelBlockSpend
    }
  }
}
```

Variables:

```json
{
  "address": "0xf65d6448a273b531ee942c133bb91a6f904c7d7f3104cdaf6b9f7f50d3518871"
}
```

<Examples.MessageInfo />

  <div className="accordion">

    {" "}
    <div className="accordion-option">
      <input
        type="checkbox"
        id="message-toggle1"
        className="accordion-toggle"
      ></input>
      <label className="accordion-title" htmlFor="message-toggle1">
        TypeScript
      </label>
      <div className="accordion-content">
        <CodeImport
          file="../examples/tests/messages.test.ts"
          testCase="get messages with ts"
        />
      </div>
    </div>

    <div className="accordion-option">
      <input type="checkbox" id="message-toggle2" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="message-toggle2">
        Apollo Client
      </label>
      <div className="accordion-content">
      ```typescript
        import { ApolloClient, InMemoryCache, gql } from '@apollo/client';

        const apolloClient= new ApolloClient({
          uri: 'https://node-beta-2.fuel.network/graphql',
          cache: new InMemoryCache(),
        });
        ```
        <CodeImport
          file="../examples/tests/messages.test.ts"
          testCase="get messages with apollo"
        />
      </div>
    </div>

    <div className="accordion-option">
      <input type="checkbox" id="message-toggle3" className="accordion-toggle"></input>
      <label className="accordion-title" htmlFor="message-toggle3">
        urql
      </label>
      <div className="accordion-content">
      ```typescript
        import { createClient } from 'urql';

        const urqlClient= createClient({
          url: 'https://node-beta-2.fuel.network/graphql',
        });
        ```
        <CodeImport
          file="../examples/tests/messages.test.ts"
          testCase="get messages with urql"
        />
      </div>
    </div>

  </div>

## Dry run a transaction

```graphql
mutation DryRun($encodedTransaction: HexString!, $utxoValidation: Boolean) {
  dryRun(tx: $encodedTransaction, utxoValidation: $utxoValidation) {
    receiptType
    data
    rawPayload
  }
}
```

## Submit a transaction

```graphql
mutation submit($encodedTransaction: HexString!) {
  submit(tx: $encodedTransaction) {
    id
  }
}
```

## More Examples

You can find more examples of how we use this API in our GitHub:

[Block Explorer](https://github.com/FuelLabs/block-explorer-v2/)

[Fuels Typescript SDK](https://github.com/FuelLabs/fuels-ts/)
