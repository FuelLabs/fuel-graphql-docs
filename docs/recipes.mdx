---
title: Recipes
---

# Recipes

## Get an asset balance of an address

```graphql
query Balance($address: Address, $assetId: AssetId) {
  balance(owner: $address, assetId: $assetId) {
    owner
    amount
    assetId
  }
}
```

<Examples.Balance />

  <div class="accordion">

  <div class="accordion-option">
      <input type="checkbox" id="toggle1" class="accordion-toggle"></input>
      <label class="accordion-title" for="toggle1">
        JavaScript
      </label>
      <div class="accordion-content">
        ```javascript
        const BALANCE_QUERY = `query Balance($address: Address, $assetId: AssetId) {
        balance(owner: $address, assetId: $assetId) {
          owner
          amount
          assetId
        }
      }`;

        const args = {
          address:
            "0xf65d6448a273b531ee942c133bb91a6f904c7d7f3104cdaf6b9f7f50d3518871",
          assetId:
            "0x0000000000000000000000000000000000000000000000000000000000000000",
        };
  
        fetch('https://node-beta-2.fuel.network/graphql', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Accept': 'application/json',
          },
          body: JSON.stringify({
            query: BALANCE_QUERY,
            variables: args,
          }),
        })
          .then(r => r.json())
          .then(data => console.log("DATA:", data));
        ```
      </div>
    </div>

    <div class="accordion-option">
      <input type="checkbox" id="toggle2" class="accordion-toggle"></input>
      <label class="accordion-title" for="toggle2">
        Apollo Client
      </label>
      <div class="accordion-content">
        ```javascript
        let count = 1;
        ```
      </div>
    </div>

    <div class="accordion-option">
      <input type="checkbox" id="toggle3" class="accordion-toggle"></input>
      <label class="accordion-title" for="toggle3">
        urql
      </label>
      <div class="accordion-content">
        ```javascript
        let count = 2;
        ```
      </div>
    </div>

  </div>

## List all asset balances of an address

```graphql
query Balances($filter: BalanceFilterInput) {
  balances(filter: $filter, first: 5) {
    nodes {
      amount
      assetId
    }
  }
}
```

<Examples.Balances />

## List all transactions from an address

```graphql
query Transactions($address: Address) {
  transactionsByOwner(owner: $address, first: 5) {
    nodes {
      id
      inputs {
        __typename
        ... on InputCoin {
          owner
          utxoId
          amount
          assetId
        }
        ... on InputContract {
          utxoId
          contract {
            id
          }
        }
        ... on InputMessage {
          messageId
          sender
          recipient
          amount
          data
        }
      }
      outputs {
        __typename
        ... on CoinOutput {
          to
          amount
          assetId
        }
        ... on ContractOutput {
          inputIndex
          balanceRoot
          stateRoot
        }
        ... on MessageOutput {
          recipient
          amount
        }
        ... on ChangeOutput {
          to
          amount
          assetId
        }
        ... on VariableOutput {
          to
          amount
          assetId
        }
        ... on ContractCreated {
          contract {
            id
          }
          stateRoot
        }
      }
      status {
        __typename
        ... on FailureStatus {
          reason
          programState {
            returnType
          }
        }
      }
    }
  }
}
```

<Examples.Transactions/>

## List the latest transactions

```graphql
query LatestTransactions {
  transactions(last: 5) {
    nodes {
      id
      inputs {
        __typename
        ... on InputCoin {
          owner
          utxoId
          amount
          assetId
        }
        ... on InputContract {
          utxoId
          contract {
            id
          }
        }
        ... on InputMessage {
          messageId
          sender
          recipient
          amount
          data
        }
      }
      outputs {
        __typename
        ... on CoinOutput {
          to
          amount
          assetId
        }
        ... on ContractOutput {
          inputIndex
          balanceRoot
          stateRoot
        }
        ... on MessageOutput {
          recipient
          amount
        }
        ... on ChangeOutput {
          to
          amount
          assetId
        }
        ... on VariableOutput {
          to
          amount
          assetId
        }
        ... on ContractCreated {
          contract {
            id
          }
          stateRoot
        }
      }
      status {
        __typename
        ... on FailureStatus {
          reason
          programState {
            returnType
          }
        }
      }
    }
  }
}
```

<Examples.LatestTransactions />

## Get an asset balance of a contract

```graphql
query ContractBalance($contract: ContractId, $asset: AssetId) {
  contractBalance(contract: $contract, asset: $asset) {
    contract
    amount
    assetId
  }
}
```

<Examples.ContractBalance />

## List all asset balances of a contract

```graphql
query ContractBalances($filter: ContractBalanceFilterInput!) {
  contractBalances(filter: $filter, first: 5) {
    nodes {
      amount
      assetId
    }
  }
}
```

<Examples.ContractBalances />

## List the latest blocks

```graphql
query LatestBlocks {
  blocks(last: 5) {
    nodes {
      id
      transactions {
        id
        inputAssetIds
        inputs {
          __typename
          ... on InputCoin {
            owner
            utxoId
            amount
            assetId
          }
          ... on InputContract {
            utxoId
            contract {
              id
            }
          }
          ... on InputMessage {
            messageId
            sender
            recipient
            amount
            data
          }
        }
        outputs {
          __typename
          ... on CoinOutput {
            to
            amount
            assetId
          }
          ... on ContractOutput {
            inputIndex
            balanceRoot
            stateRoot
          }
          ... on MessageOutput {
            recipient
            amount
          }
          ... on ChangeOutput {
            to
            amount
            assetId
          }
          ... on VariableOutput {
            to
            amount
            assetId
          }
          ... on ContractCreated {
            contract {
              id
            }
            stateRoot
          }
        }
        gasPrice
      }
    }
  }
}
```

<Examples.LatestBlocks />

## Get block information by height

```graphql
query Block($height: U64) {
  block(height: $height) {
    id
  }
}
```

<Examples.BlockByHeight />

## List all messages owned by address

```graphql
query MessageInfo($address: Address) {
  messages(owner: $address, first: 5) {
    nodes {
      amount
      sender
      recipient
      nonce
      data
      daHeight
      fuelBlockSpend
    }
  }
}
```

<Examples.MessageInfo />

## Dry run a transaction

```graphql
mutation DryRun($encodedTransaction: HexString!, $utxoValidation: Boolean) {
  dryRun(tx: $encodedTransaction, utxoValidation: $utxoValidation) {
    receiptType
    data
    rawPayload
  }
}
```

## Submit a transaction

```graphql
mutation submit($encodedTransaction: HexString!) {
  submit(tx: $encodedTransaction) {
    id
  }
}
```

## More Examples

You can find more examples of how we use this API in our GitHub:

[Block Explorer](https://github.com/FuelLabs/block-explorer-v2/)

[Fuels Typescript SDK](https://github.com/FuelLabs/fuels-ts/)
